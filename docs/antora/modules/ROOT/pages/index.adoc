= 简介

响应数据组件 用于开发符合 xref:standard.adoc[响应数据规范] 的应用，涉及客户端和服务端两部分。

== 什么是响应数据
首先我们来看一看请求响应过程的数据流转：

image::request-response-data-flow.png[]

绿线是正常路径，红线是异常路径。
具体步骤如下：

. 客户端应用程序传递请求参数给 Axios
. Axios 传递请求信息给客户端浏览器
. 请求报文在网络中传输
. 服务端接收到请求报文后，将请求信息传递给SpringMVC

.正常路径
. SpringMVC处理完成后，将请求参数传递给服务端应用程序
. 服务端应用程序处理完成后，返回响应数据
. SpringMVC处理完成后，返回响应信息
. 响应报文在网络中传输
. 客户端浏览器接收到响应报文后，将响应信息传递给 Axios
. Axios 接收到响应信息后，将响应信息传递给客户端应用程序

.异常路径
. SpringMVC处理过程中发生异常或者业务处理过程中发生异常，异常会转发至``BasicErrorController``
. ``BasicErrorController``处理完成后，返回异常响应数据
. SpringMVC处理完成后，返回异常响应信息
. 异常响应报文在网络中传输
. 客户端浏览器接收到响应报文后，将异常响应信息传递给 Axios
. Axios 接收到异常响应信息后，将异常响应信息传递给客户端应用程序

其中涉及到响应数据、响应信息和响应报文：

响应数据::
响应数据分为正常响应数据和异常响应数据，
正常响应数据是指服务端应用程序返回的有效数据，
异常响应数据是指``BasicErrorController``返回的异常数据
响应信息::
响应信息对应响应报文，是响应报文在应用程序中的一种体现，包含响应数据和一些其他的信息
响应报文::
响应报文指HTTP响应报文，包括响应行、响应头、空行和响应体

== 为什么要讨论响应数据
在开发客户端应用程序时，开发者需要根据响应状态进行不同逻辑的处理。
如果是正常状态，则进行正常的业务处理；
如果是异常状态，则需要判断具体是何种异常，根据不同的异常针对性的处理。
那么如何判断响应状态呢？通过HTTP响应状态码是一种方式，
我们能够区分出正常状态(200)和异常状态(4xx或者5xx)以及大致的异常原因(400参数错误或者500服务端异常)，
但我们无法得知具体的原因，比如400参数错误，具体是哪个参数出现了什么样的错误呢，我们是不知道的。
我们需要一种行之有效的方法，能够从响应数据中得知具体的响应状态。

== 如何规范响应数据
如何从响应数据中得知具体的响应状态呢？
我们需要为响应数据定义一种通用的规范，
服务端返回符合规范的数据，客户端根据规范的数据进行开发。
详情参考 xref:standard.adoc[响应数据规范]。

//**响应数据组件**是对 xref:standard/response_data.adoc[响应数据规范]的一种实现。

//== http状态码
//参考 https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status[http状态码^]