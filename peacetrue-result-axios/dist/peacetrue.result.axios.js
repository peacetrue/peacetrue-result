!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("axios"),require("qs")):"function"==typeof define&&define.amd?define(["axios","qs"],t):"object"==typeof exports?exports.Axios=t(require("axios"),require("qs")):(e.Peace=e.Peace||{},e.Peace.Result=e.Peace.Result||{},e.Peace.Result.Axios=t(e.axios,e.Qs))}(this,function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){class r{onFulfilled(e){}onRejected(e){}}r.prototype.interceptorId=new Map,r.prototype.inject=function(e,t=!1){if(!0===t)this.interceptorId.has(e)&&(e.interceptors.response.eject(this.interceptorId.get(e)),this.interceptorId.delete(e));else if(!this.interceptorId.has(e)){const t=e.interceptors.response.use(r.prototype.onFulfilled===this.onFulfilled?null:e=>this.onFulfilled(e),r.prototype.onRejected===this.onRejected?null:e=>this.onRejected(e));this.interceptorId.set(e,t)}return this},e.exports=r},function(e,t){e.exports=class{constructor(e,t,r){this.code=e,this.message=t,this.data=r}}},function(e,t,r){let n=r(3);r(4).inject(n);let o={},s=r(6);s.register(r(7)),s.register(r(8)),s.register(r(9)),s.register(r(10)),s.register(r(11)),s.register(r(12)),o.standardized=s.inject(n),o.prompt=r(13).inject(n),o.reset=r(14).inject(n),e.exports={axios:n,interceptors:o}},function(t,r){t.exports=e},function(e,t,r){let n=r(5);e.exports={paramsSerializer:e=>n.stringify(e,{arrayFormat:"repeat",serializeDate:e=>e.getTime(),allowDots:!0,skipNulls:!0}),transformRequest:(e,t)=>n.stringify(e,{arrayFormat:"repeat",serializeDate:e=>e.getTime(),allowDots:!0,skipNulls:!0}),inject(e){e.defaults.paramsSerializer=this.paramsSerializer,e.defaults.transformRequest.unshift(this.transformRequest)}}},function(e,r){e.exports=t},function(e,t,r){let n=new(r(0));n.interceptors=[],n.register=function(e){return this.interceptors.push(e),this},n.onFulfilled=function(e){for(let t of this.interceptors){if(!t.onFulfilled)continue;let r=t.onFulfilled(e);if(r instanceof Promise)return r}throw new Error("没有可处理的 interceptor.onFulfilled")},n.onRejected=function(e){for(let t of this.interceptors){if(!t.onRejected)continue;let r=t.onRejected(e);if(r instanceof Promise)return r}throw new Error("没有可处理的 interceptor.onRejected")},e.exports=n},function(e,t,r){let n=r(0),o=r(1),s=new n;s.onRejected=function(e){if("ECONNREFUSED"===e.code||"Network Error"===e.message)return e.data=new o("network_error","网络异常"),Promise.reject(e)},e.exports=s},function(e,t,r){let n=r(0),o=r(1),s=new n;s.onRejected=function(e){if(e.message&&e.message.startsWith("timeout of ")){let t=e.config.timeout/1e3;return e.data=new o("timeout",`请求时长已超过最大限制'${t}'秒`,{timeout:t}),Promise.reject(e)}},e.exports=s},function(e,t,r){let n=r(0),o=r(1),s=new n;s.onRejected=function(e){if(e.response)return 404===e.response.status?(e.data=new o("url_not_exists",`请求地址'${e.config.url}'不存在`,{url:e.config.url}),Promise.reject(e)):void 0},e.exports=s},function(e,t,r){let n=new(r(0));n.onFulfilled=function(e){let t=e.data;if(function(e){return e&&e.code&&e.message}(t))return"success"===t.code?Promise.resolve(e):Promise.reject(e)},e.exports=n},function(e,t,r){let n=r(0),o=r(1),s=new n;s.onRejected=function(e){if(!e.response)return;let t=e.response.data;return function(e){return e&&e.timestamp&&e.status&&e.error&&e.message&&e.path}(t)?(e.data=new o(t.status,t.message),Promise.reject(e)):void 0},e.exports=s},function(e,t,r){let n=r(0),o=r(1),s=new n;s.onFulfilled=function(e){return e.data=new o("success","操作成功!",e.data),Promise.resolve(e)},e.exports=s},function(e,t,r){let n=new(r(0));n.onFulfilled=function(e){return!0!==e.disableSuccessPrompt&&!0!==e.dsp&&this.successPrompt(e),Promise.resolve(e)},n.successPrompt=function(e){alert(this.successMessage(e))},n.successMessage=function(e){return"操作成功"},n.onRejected=function(e){return!0!==e.disableFailurePrompt&&!0!==e.dfp&&this.failurePrompt(e),Promise.reject(e)},n.failurePrompt=function(e){alert(`操作失败!${this.failureMessage(e)}`)},n.failureMessage=function(e){let t=e.data,r=t.message;return"errors"===t.code?t.data.forEach(e=>{r+="<br>"+e.message}):"failure"===t.code&&t.data&&(r+=`(${t.data})`),r},e.exports=n},function(e,t,r){let n=new(r(0));n.onRejected=function(e){return Promise.resolve(e.config.disableReset?e:e.data.data)},n.onRejected=function(e){return Promise.reject(e.config.disableReset?e:e.data)},e.exports=n}])});
//# sourceMappingURL=peacetrue.result.axios.js.map